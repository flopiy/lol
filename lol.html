<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–µ –≤—ñ–¥–µ–æ –∑ F11</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      overflow: hidden;
    }
    video {
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
    }
    button {
      position: absolute;
      top: 20px;
      left: 20px;
      padding: 10px 20px;
      font-size: 16px;
      z-index: 10;
      background-color: transparent;
      border: 2px solid white;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button:hover {
      background-color: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.7);
    }
  </style>
</head>
<body>

  <button onclick="initVideo()">üé¨ –°—Ç–∞—Ä—Ç</button>

  <video id="video" autoplay loop muted>
    <source src="media/cds0032_trailer.mp4" type="video/mp4">
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤—ñ–¥–µ–æ.
  </video>

  <script>
    const video = document.getElementById('video');
    let pauseAllowed = true;
    let exitDisabledUntil = null;

    function initVideo() {
      // –£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫ —Ç–∞ –ø—Ä–æ–≥—Ä–∞—Ç–∏ –≤—ñ–¥–µ–æ
      video.muted = false;
      video.volume = 0.2;
      video.play();

      // –ü–µ—Ä–µ—Ö—ñ–¥ —É –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º
      enterFullscreen();

      // –°—Ö–æ–≤–∞—Ç–∏ –∫–Ω–æ–ø–∫—É —Å—Ç–∞—Ä—Ç—É
      document.querySelector("button").style.display = "none";

      // –ó–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –ø–∞—É–∑—É (–∞–≤—Ç–æ–≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è)
      video.addEventListener('pause', () => {
        if (!pauseAllowed) {
          video.play();
        }
      });

      // –ë–ª–æ–∫—É—î–º–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–µ –º–µ–Ω—é
      window.addEventListener("contextmenu", e => e.preventDefault());
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –≤ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º
    function enterFullscreen() {
      if (document.documentElement.requestFullscreen) {
        document.documentElement.requestFullscreen();
      } else if (document.documentElement.webkitRequestFullscreen) { 
        document.documentElement.webkitRequestFullscreen();
      } else if (document.documentElement.msRequestFullscreen) {
        document.documentElement.msRequestFullscreen();
      }
    }

    // –û–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω—å –∫–ª–∞–≤—ñ—à
    document.addEventListener('keydown', (e) => {
      const key = e.key.toLowerCase();

      if (key === "g") {
        e.preventDefault();
        pauseAllowed = true;
        if (video.paused) {
          video.play();
        } else {
          video.pause();
        }
      } else if (key === " ") {
        e.preventDefault();
        video.volume = Math.min(1.0, video.volume + 0.1);
        console.log("–ì—É—á–Ω—ñ—Å—Ç—å:", video.volume.toFixed(2));
      }
    });

    // –û–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω—å –Ω–∞ –±—É–¥—å-—è–∫–µ –º—ñ—Å—Ü–µ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
    document.body.addEventListener('click', () => {
      enterFullscreen(); // –ü–µ—Ä–µ—Ö—ñ–¥ –≤ –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–∏–π —Ä–µ–∂–∏–º –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ
    });

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤–∏—Ö–æ–¥—É –∑—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    function showExitWarning(e) {
      if (exitDisabledUntil && Date.now() < exitDisabledUntil) {
        e.preventDefault();  // –ë–ª–æ–∫—É—î–º–æ –≤–∏—Ö—ñ–¥
        e.returnValue = ''; // –¶–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Å—Ç–∞—Ä–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤
      }
    }

    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ, —â–æ —Å–∞–π—Ç –Ω–µ –¥–∞—Å—Ç—å –≤–∏–π—Ç–∏ –ø—Ä–æ—Ç—è–≥–æ–º 10 —Ö–≤–∏–ª–∏–Ω (600000 –º—Å)
    function disableExitFor10Minutes() {
      exitDisabledUntil = Date.now() + 600000; // 10 —Ö–≤–∏–ª–∏–Ω
    }

    // –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç–∞–π–º–µ—Ä –ø—ñ—Å–ª—è 10 —Ö–≤–∏–ª–∏–Ω
    disableExitFor10Minutes();

    // –ü–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è —Å–ø—Ä–æ–±–∏ –≤–∏–π—Ç–∏ –∑—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    window.addEventListener('beforeunload', showExitWarning);
  </script>

</body>
</html>
